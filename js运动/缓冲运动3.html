<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>缓冲运动3</title>
	<style>
		#div1{
			width: 100px;
			height: 150px;
			background: red;
			position: absolute;
			left: 600px;
			top: 50px;
		}
		#div2{
			width: 1px;height: 300px;position: absolute;
			left: 300px;top: 0;background: black;
		}
		#div3{
			width: 1px;height: 300px;position: absolute;
			left: 100px;top: 0;background: black;
		}
	</style>
	<script>
	var timer=null;
	function startMove(iTarget){
		var oDiv = document.getElementById("div1");
		clearInterval(timer);
		timer=setInterval(function(){
			var speed=0;
			if(oDiv.offsetLeft<iTarget){
				speed=7;
			}
			else{
				speed=-7;
			}
			if(Math.abs(iTarget-oDiv.offsetLeft)<=7){
				clearInterval(timer);
				oDiv.style.left=iTarget+'px';
			}
			else{
				oDiv.style.left=oDiv.offsetLeft+speed+'px';
				document.title=oDiv.offsetLeft+','+speed;
			}
		},40);
	}
	</script>
</head>
<body style="height:2000px;">
	<button id="" value="" onclick="startMove(100);">到100</button>
	<button id="" value="" onclick="startMove(300);">到300</button>
	<div id="div1">
		
	</div>
	<div id="div2">
		
	</div>
	<div id="div3">
		
	</div>
</body>
</html>